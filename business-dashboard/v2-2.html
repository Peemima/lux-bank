<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Market Day Business Dashboard</title>
  <script src="https://peemima.github.io/lux-bank/assets/popup-code.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://peemima.github.io/lux-bank/assets/loading-screen.js"></script>
  <noscript>
    <h1>Help is on the way, Javascript is not enabled.</h1>
    <p>A wild error popped out of nowhere!</p>
    <p>Help is on the way.</p>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
  </noscript>
  <link rel="stylesheet" href="/lux-bank/assets/styles.css">
  <style>
    /* New styles for product display */
    #products-list-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Responsive grid */
      gap: 15px;
      margin-top: 20px;
      max-height: 400px; /* Limit height for scrollability */
      overflow-y: auto; /* Enable vertical scrolling */
      padding: 10px;
      border: 1px solid #e0e0e0; /* Lighter border */
      border-radius: 8px;
      background-color: #fcfcfc; /* Slightly off-white background */
    }

    .product-item {
      background-color: #ffffff;
      border: 1px solid #e9e9e9; /* Light grey border */
      border-radius: 8px;
      padding: 12px;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Softer shadow */
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .product-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .product-item h3 {
      margin: 5px 0;
      font-size: 1.15em;
      color: #333;
      font-weight: 600;
    }

    .product-item p {
      margin: 3px 0;
      font-size: 1em;
      color: #666;
      font-weight: 500;
    }

    .product-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px; /* Increased gap */
      margin-top: 15px;
    }

    .product-controls button {
      background-color: #007bff; /* Blue for plus */
      color: white;
      border: none;
      padding: 7px 14px; /* Larger buttons */
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 18px; /* Larger font for +/- */
      border-radius: 50%; /* Circle buttons */
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      width: 35px; /* Fixed width for circle */
      height: 35px; /* Fixed height for circle */
      line-height: 20px; /* Vertically center text */
      display: flex; /* Flex to center text */
      align-items: center;
      justify-content: center;
    }

    .product-controls button.minus {
      background-color: #dc3545; /* Red for minus */
    }
    /* Default button color for plus is already set above */

    .product-controls button:hover {
      opacity: 0.9;
      transform: scale(1.05);
    }

    .product-quantity {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      min-width: 30px; /* Ensure quantity display has enough space */
      display: inline-block; /* For better spacing */
    }

    #total-display {
      text-align: right;
      font-size: 1.8em; /* Larger total */
      font-weight: bold;
      margin-top: 25px;
      margin-bottom: 20px;
      color: #28a745; /* Green for total */
    }

    #transaction-amount .fill-button {
      margin-left: 10px; /* Space between cancel and checkout */
    }
    #add-product-button {
      margin-top: 20px;
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
      display: block;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 5px;
    }

    /* Style for 'No products available' message */
    #products-list-container p {
        padding: 20px;
        color: #777;
        font-style: italic;
    }
  </style>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js" defer></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js" defer></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyASd5JOikXTlRp8eA2j_26Z1NWatZMjZds",
        authDomain: "lux-bank.firebaseapp.com",
        databaseURL: "https://lux-bank-default-rtdb.firebaseio.com",
        projectId: "lux-bank",
        storageBucket: "lux-bank.appspot.com",
        messagingSenderId: "764922032293",
        appId: "1:764922032293:web:573599b6116f025ee15d4c",
        measurementId: "G-JQ7CWEJS9N"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    console.log("%cVersion: %c2.11 (Products)", "color: black; font-size:75px;", "color: red; font-size:75px;");

    // Make hideElement a window function
    window.hideElement = function(identifier) {
      document.querySelectorAll(identifier).forEach(item => { item.style.display= 'none'; });
    };

    // Make showElement a window function
    window.showElement = function(identifier) {
      document.querySelectorAll(identifier).forEach(item => { item.attributeStyleMap.delete('display') });
    };

    window.err = function(mode) {
      window.fatelError = mode;
    }

    window.rld = function() {
      window.location.reload(true);
    }
    
    window.businessValue = new URLSearchParams(window.location.search).get('businessvalue');

    window.balanceName = "Balance";

    // --- New global variables for product selection ---
    window.selectedProducts = {}; // Stores { "ProductName": { quantity: N, price: P } }
    window.totalAmount = 0;
    window.availableProductsData = {}; // Raw product data from Firebase { "ProductName": "Price" }
    window.latestUserID = '0'; // Initialize latestUserID

    if (businessValue) {
      document.getElementById("businessName").innerText = businessValue;

      if (businessValue == "Firehawk Store") {
        balanceName = "Total Earned";
        document.getElementById("homepage-heading").innerText = "Hello, Firehawk Banker";
        document.getElementById("transaction-option").innerText = "New Sale";
        document.getElementById("auction-option").style.display = "none";
      }

      // Function to check if business account exists and redirect if not
      function ensureBusinessAccountExists() {
        if (businessValue != null) {
          const businessRef = ref(database, `businesses/${businessValue}`);
          get(businessRef).then((snapshot) => {
            if (!snapshot.exists()) {
              window.location.href = `?businessvalue=`; // Redirect to login if business not found
            }
          }).catch((error) => {
            console.error('Error checking for business existence:', error);
            showPopup("flex", "Help is on the way", "none", "Error verifying business account. Please check your connection.");
            err(true);
          });
        }
      }

      window.fatelError = false;

      // Call the function to ensure business account exists on load
      document.addEventListener("DOMContentLoaded", function() {
        ensureBusinessAccountExists();
        fetchAndDisplayBusinessBalance();
        updateBusinessTimestamp();
        // Start the timestamp update interval
        setInterval(function () {
          updateBusinessTimestamp();
        }, 20000);
      });

      document.getElementById("transactionForm").addEventListener("submit", function(event) {
        event.preventDefault(); 

        const userID = window.latestUserID; // Use the globally stored scanned ID
        const amount = window.totalAmount; // Use the calculated total amount

        if (amount <= 0) {
          showPopup("flex", "Notice", "block", "Please select at least one item for purchase.");
          return;
        }
        if (isNaN(userID) || userID === '0') { // Check for '0' as well
          console.error("The user ID scanned is not a valid number or was not scanned.");
          showPopup("flex", "Help is on the way", "none", "Aim this screen toward shoppers so we can find you faster.");
          err(true);
          return;
        }

        processTransaction(userID, amount);
        window.latestUserID = '0'; // Reset latestUserID after use
      });

      function processTransaction(userID, amount) {
        get(ref(database, 'users')).then((snapshot) => {
          if (snapshot.exists()) {
            const users = snapshot.val();
            let userFound = false;
            for (let userKey in users) {
              // Check if the user ID matches 
              // Ensure comparison is between numbers, Firebase stores IDs as numbers if they are pure numbers
              if (users[userKey].id === parseInt(userID)) { 
                userFound = true;
                const userName = userKey.split(' ')[0]; 

                let currentBalance = users[userKey].balance;
                if (amount > currentBalance) {
                  showPopup("flex", "Not enough hawkeyes", "block", `It looks like ${userName} doesn't have enough hawkeyes to buy that.`);
                  return;
                }

                let newBalance = currentBalance - amount; 
                set(ref(database, 'users/' + userKey + '/balance'), newBalance)
                  .then(() => {
                    updateBusinessBalance(amount);
                    logTransaction(userKey, userID, -amount, newBalance, businessValue, window.businessData.balance); 
                    resetTransactionState(); // Reset product selection and total
                    // Re-enable scanner and hide product view
                    iframeControl('start');
                    document.getElementById("transaction-amount").style.display = "none";
                    showElement('#homepage-heading'); // Show homepage heading again
                    hideElement('#transactionForm'); // Hide the transaction form
                    showPopup("flex", "Success!", "block", `The transaction was successful for ${userName}!`);
                  })
                  .catch((error) => {
                    console.error('Error updating user balance:', error);
                    showPopup("flex", "Help is on the way", "none", "Error updating user balance. Aim this screen toward shoppers so we can find you faster.");
                    err(true);
                  });
                return; 
              }
            }
            if (!userFound) {
              showPopup("flex", "Notice", "block", "That doesn't seem to be a valid user ID.");
            }
          } else {
            console.log('No users found in the database.');
            showPopup("flex", "Notice", "block", "No user data found. Please check database configuration.");
          }
        }).catch((error) => {
          console.error('Error fetching user data:', error);
          showPopup("flex", "Help is on the way", "none", "Error fetching user data. Aim this screen toward shoppers so we can find you faster.");
          err(true);
        });
      }

      function logTransaction(userKey, userId, amount, newBalance, businessValue, businessBalanceAmount) {
        const transactionID = `trans_${Date.now()}_${Math.floor(Math.random() * 1000)}`; 
        const transactionRef = ref(database, 'transactions/' + transactionID); 
        const transactionData = {
          userKey: userKey,
          userId: userId,
          amount: amount,
          newBalance: newBalance,
          businessBalance: businessBalanceAmount,
          business: businessValue, 
          timestamp: Date.now(),
          items: JSON.parse(JSON.stringify(window.selectedProducts)) // Log the purchased items (deep copy)
        };

        set(transactionRef, transactionData)
          .then(() => {
            console.log('Transaction logged successfully.');
          })
          .catch((error) => {
            console.error('Error logging transaction:', error);
            showPopup("flex", "Help is on the way", "none", "Error logging transaction. Aim this screen toward shoppers so we can find you faster.");
            err(true);
          });
      }

      function updateBusinessBalance(amountToAdd) {
        const businessRef = ref(database, `businesses/${businessValue}/balance`);
        get(businessRef).then((snapshot) => {
          let newBalance;
          let currentBalance = snapshot.exists() ? snapshot.val() : 0; 
          newBalance = currentBalance + amountToAdd;
          set(businessRef, newBalance).then(() => {
            console.log(`Business balance updated to ${newBalance}`);
            fetchAndDisplayBusinessBalance(); 
          }).catch((error) => {
            console.error('Error updating business balance:', error);
            showPopup("flex", "Help is on the way", "none", "Error updating business balance. Aim this screen toward shoppers so we can find you faster.");
            err(true);
          });
        }).catch((error) => {
          console.error('Error fetching initial business balance:', error);
          // If balance doesn't exist, try to initialize it
          set(businessRef, amountToAdd).then(() => {
            console.log('Business balance initialized and set to:', amountToAdd);
            fetchAndDisplayBusinessBalance();
          }).catch((initError) => {
            console.error('Error initializing business balance:', initError);
            showPopup("flex", "Help is on the way", "none", "Error initializing business balance. Aim this screen toward shoppers so we can find you faster.");
            err(true);
          });
        });
      }

      function fetchAndDisplayBusinessBalance() {
        const businessRef = ref(database, `businesses/${businessValue}`);
        get(businessRef).then((snapshot) => {
          if (snapshot.exists()) {
            window.businessData = snapshot.val();
            document.getElementById('businessBalance').innerText = balanceName + `: $${(window.businessData.balance || 0).toFixed(2)}`;
          } else {
            console.error('Business data not found');
            document.getElementById('businessBalance').innerText = balanceName + `: $0.00`;
          }
        }).catch((error) => {
          console.error('Error fetching business balance:', error);
          showPopup("flex", "Help is on the way", "none", "Error fetching business balance. Aim this screen toward shoppers so we can find you faster.");
          err(true);
        });
      }

      function updateBusinessTimestamp() {
        if (window.fatelError === false) {
          const businessRef = ref(database, `businesses/${businessValue}/timestamp`);
          get(businessRef).then((snapshot) => {
            if (snapshot.exists()) {
              const timestamp = snapshot.val();
              if (timestamp === 1) { // Special initial state for new businesses
                showPopup("flex", "We're glad you're here", "none", "Bring this device to Ian F to get started.");
              } else {
                set(businessRef, Date.now()).then(() => {
                  console.log('Business timestamp updated successfully.');
                }).catch((error) => {
                  console.error('Error updating business timestamp:', error);
                });
              }
            } else {
              // If timestamp doesn't exist, initialize it
              set(businessRef, Date.now()).then(() => {
                console.log('Business timestamp initialized.');
              }).catch((error) => {
                console.error('Error initializing business timestamp:', error);
              });
            }
          }).catch((error) => {
            console.error('Error fetching business timestamp:', error);
          });
        }
        if (window.fatelError === true) {
          const businessRef = ref(database, `businesses/${businessValue}/timestamp`);
          set(businessRef, 0).then(() => {
            console.log('Business timestamp set to 0 due to error.');
          }).catch((error) => {
            console.error('Error updating business timestamp:', error);
          });
        }
      }

      setInterval(fetchAndDisplayBusinessBalance, 120000);

      // --- New Product Display & Selection Logic ---

      function fetchAndDisplayProducts() {
        const productsRef = ref(database, `businesses/${businessValue}/products`);
        get(productsRef).then((snapshot) => {
          if (snapshot.exists()) {
            window.availableProductsData = snapshot.val();
            renderProducts();
          } else {
            document.getElementById('products-list-container').innerHTML = '<p style="text-align: center;">No products found for this business. Click "Add New Product" to get started!</p>';
            window.availableProductsData = {}; // Clear existing data
          }
          updateTotalAmount(); // Initialize total amount
        }).catch((error) => {
          console.error('Error fetching products:', error);
          document.getElementById('products-list-container').innerHTML = '<p style="text-align: center; color: red;">Error loading products. Please try again.</p>';
          showPopup("flex", "Help is on the way", "none", "Could not load products. Aim this screen toward shoppers so we can find you faster.");
          err(true);
        });
      }

      function renderProducts() {
        const container = document.getElementById('products-list-container');
        container.innerHTML = ''; // Clear previous products

        if (Object.keys(window.availableProductsData).length === 0) {
          container.innerHTML = '<p style="text-align: center; color: #555;">No products available. Add a new product to begin!</p>';
          return;
        }

        for (const productName in window.availableProductsData) {
          const price = parseFloat(window.availableProductsData[productName]);
          if (isNaN(price)) {
            console.warn(`Product '${productName}' has an invalid price: ${window.availableProductsData[productName]}`);
            continue; // Skip invalid products
          }

          // Initialize selectedProducts entry if it doesn't exist or if price has changed
          if (!window.selectedProducts[productName] || window.selectedProducts[productName].price !== price) {
            window.selectedProducts[productName] = { quantity: 0, price: price };
          }

          const productItem = document.createElement('div');
          productItem.className = 'product-item';
          productItem.dataset.productName = productName; 

          const safeProductNameId = productName.replace(/[^a-zA-Z0-9]/g, '-'); // Sanitize for ID

          productItem.innerHTML = `
            <h3>${productName}</h3>
            <p>$${price.toFixed(2)}</p>
            <div class="product-controls">
              <button class="minus" data-product="${productName}">-</button>
              <span class="product-quantity" id="quantity-${safeProductNameId}">${window.selectedProducts[productName].quantity}</span>
              <button class="plus" data-product="${productName}">+</button>
            </div>
          `;
          container.appendChild(productItem);
        }

        // Attach event listeners after all elements are created
        container.querySelectorAll('.plus').forEach(button => {
          button.addEventListener('click', (event) => updateProductQuantity(event.target.dataset.product, 1));
        });
        container.querySelectorAll('.minus').forEach(button => {
          button.addEventListener('click', (event) => updateProductQuantity(event.target.dataset.product, -1));
        });
      }

      function updateProductQuantity(productName, change) {
        if (!window.selectedProducts[productName]) {
            console.error(`Attempted to update quantity for unknown product: ${productName}. Re-initializing.`);
            const price = parseFloat(window.availableProductsData[productName]);
            if (isNaN(price)) return; // Cannot proceed without a valid price
            window.selectedProducts[productName] = { quantity: 0, price: price };
        }

        let currentQuantity = window.selectedProducts[productName].quantity;
        let newQuantity = currentQuantity + change;

        if (newQuantity < 0) newQuantity = 0; 

        window.selectedProducts[productName].quantity = newQuantity;
        const safeProductNameId = productName.replace(/[^a-zA-Z0-9]/g, '-');
        document.getElementById(`quantity-${safeProductNameId}`).innerText = newQuantity;
        updateTotalAmount();
      }

      function updateTotalAmount() {
        let currentTotal = 0;
        for (const productName in window.selectedProducts) {
            // Ensure product has a valid price and quantity before adding
            if (window.selectedProducts[productName].price && typeof window.selectedProducts[productName].quantity === 'number') {
                currentTotal += window.selectedProducts[productName].quantity * window.selectedProducts[productName].price;
            }
        }
        window.totalAmount = currentTotal;
        document.getElementById('total-display').innerText = `Total: $${window.totalAmount.toFixed(2)}`;
      }

      function resetTransactionState() {
        window.selectedProducts = {}; // Clear all selected products
        window.totalAmount = 0;
        renderProducts(); // Re-render to show 0 quantity for all products
        updateTotalAmount(); // Reset total display
      }

      // Placeholder for adding new products
      document.getElementById('add-product-button').addEventListener('click', () => {
        showPopup("flex", "Feature Coming Soon!", "block", "Adding new products is under development. For now, you can manually add products in Firebase under your business's 'products' key, with the product name as the key and its price as the value (e.g., {'Ornament': '3'}).");
      });

    } else {
      document.getElementById("main-content").style.display = 'none'; 
      document.getElementById("login-screen").style.display = 'block'; 

      let businessSuggestions = [];

      document.getElementById("businessNameInput").addEventListener("mousedown", function() {
        document.getElementById("businessNameInput").placeholder = "Business Name";
      });

      document.getElementById("businessNameInput").addEventListener("blur", function() {
        document.getElementById("businessNameInput").placeholder = "";
      });

      document.getElementById("businessNameInput").addEventListener("input", function() {
        const inputValue = this.value.trim().toLowerCase();
        get(ref(database, 'businesses')).then(snapshot => {
          if (snapshot.exists()) {
            const businesses = snapshot.val();
            businessSuggestions = Object.keys(businesses).filter(business => 
              business.toLowerCase().includes(inputValue)
            );

            if (businessSuggestions.length === 1) { 
              updateSuggestions(businessSuggestions[0]); 
            } else {
              document.getElementById('suggestions').style.display = 'none'; 
            }
          } else {
            console.error('No businesses found in the database.');
            document.getElementById('suggestions').innerText = 'No businesses found';
            document.getElementById('suggestions').style.display = 'block';
          }
        }).catch(error => {
          console.error('Error fetching businesses:', error);
          document.getElementById('suggestions').innerText = 'Error loading businesses.';
          document.getElementById('suggestions').style.display = 'block';
        });
      });

      function updateSuggestions(suggestion) {
        const suggestionList = document.getElementById('suggestions');
        if (suggestion) {
          suggestionList.style.display = 'block'; 
          suggestionList.innerText = 'Press Enter to login to ' + suggestion;
        } else {
          suggestionList.innerText = 'No businesses found'; // Fallback, though typically not reached with current logic
        }
      }

      document.getElementById("businessNameInput").addEventListener("keydown", (event) => {
        if (event.key === 'Enter') {
          event.preventDefault(); // Prevent default form submission behavior
          const suggestionText = document.getElementById('suggestions').innerText;
          const suggestion = suggestionText.startsWith('Press Enter to login to ') ? suggestionText.replace('Press Enter to login to ', '') : '';
          
          if (suggestion && suggestion !== 'No businesses found' && suggestion !== 'Error loading businesses.') {
              window.location.href = `?businessvalue=${suggestion}`;
          } else {
              showPopup("flex", "Login Error", "block", "Please enter a valid business name.");
          }
        }
      });
    };

    //Reset the form when cancel button is pressed
    document.getElementById("cancel-button").addEventListener('click', function() {
      resetTransactionState(); // Reset selected products and total
      iframeControl('start'); // Start scanner again
      document.getElementById("transaction-amount").style.display = "none"; // Hide product selection
      showElement('#homepage-heading'); // Show homepage heading again
      hideElement('#transactionForm'); // Hide the transaction form
    });


    // Set the navbar variables
    window.buyButton = document.getElementById('transaction-option'); 
    window.bidButton = document.getElementById('auction-option'); 

    // Event listeners for the navbar options
    buyButton.addEventListener("click", function() { 
      bidButton.classList.remove('menu-item-selected'); 
      buyButton.classList.add('menu-item-selected'); 
      resetTransactionState(); // Clear any previous selection when starting a new sale
      iframeControl('start'); // Start scanner
      hideElement('#homepage-heading'); 
      hideElement('#bidScreen'); 
      // transaction-amount will be shown after scan
      showElement('#transactionForm'); // Show the transaction form (which contains the iframe)
    });

    bidButton.addEventListener("click", function() { 
      // Original bid button functionality replaced with a support popup
      console.log('Ask For Help button triggered popup.');
      showPopup("flex", "Help is on the way", "none", "Aim this screen toward shoppers so we can find you faster.");
      err(true);
    });

    window.iframeControl = function(status) {
      if (status == "start") {
        document.getElementById('scaniframe').src = 'https://peemima.github.io/lux-bank/scanner/';
        document.getElementById('scaniframe').style.display = 'block';
      } else if (status == "stop") {
        document.getElementById('scaniframe').style.display = 'none';
        document.getElementById('scaniframe').src = 'about:blank';
      }
    }

    window.addEventListener('message', (event) => {
      // It's good practice to verify the origin in a real application
      // if (event.origin !== 'https://peemima.github.io') return;

      setTimeout(function(){
        window.latestUserID = event.data;
        document.getElementById("transaction-amount").style.display = "block"; // Show product selection area
        iframeControl('stop'); // Stop scanner
        fetchAndDisplayProducts(); // Load products once user is scanned
      }, 1000); 
    });
    
    // Setup scripting - initial hiding of transaction-related elements
    hideElement('#transactionForm');
    hideElement('#bidScreen');
    hideElement('#transaction-amount'); // Hidden initially, shown after scan
  </script>
</head>
<body>
  <div id="main-content"> 
    <div id="businessInfo" style="display: grid; grid-template-columns: 1fr auto 1fr;">
      <span id="businessName" style="float: left;">...</span>
      <img class="logo" src="https://peemima.github.io/lux-bank/assets/fireyhills.png">
      <span id="businessBalance" style="float: right; text-align: right;">...</span>
    </div>
    <div id="homepage">
      <h2 id="homepage-heading">Welcome to your business dashboard</h2>
      <div class="menu-container">
        <p id="transaction-option" class="menu-item">New Sale</p>
        <p id="auction-option" class="menu-item">Get Support</p>
      </div>
    </div>
    <form id="transactionForm" class="center">
      <iframe id="scaniframe" style="border: 0px;" width="100%" height="500px" src="about:blank"></iframe>
      <div id="transaction-amount">
        <!-- Product list will be rendered here -->
        <div id="products-list-container">
          <p style="text-align: center;">Loading products...</p>
        </div>
        <div id="total-display">Total: $0.00</div>
        <button id="add-product-button" type="button" class="outline-button">Add New Product</button>
        <button id="cancel-button" type="button" class="outline-button">Back</button>
        <button type="submit" class="fill-button">Checkout</button>
      </div>
    </form>
    <div id="bidScreen">
      Bid screen content
    </div>
  </div>
  <div id="login-screen" class="center-container" style="display: none;">
    <h1 style="font-family: 'Poppins', sans-serif; font-weight: 500">Login to your business</h1>
    <form onSubmit="return false;">
      <input autocomplete="off" id="businessNameInput" type="text" placeholder="">
    </form>
    <div id="suggestions"></div>
  </div>
</body>
</html>
